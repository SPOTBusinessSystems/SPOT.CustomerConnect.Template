var CustomerConnect={Config:{AccountKey:null,SessionId:null,CustomerName:null,URL:null,Settings:null,ReminderURL:null},Request:{},AR:{},Customer:{},Invoice:{},Route:{},Settings:{},Store:{},User:{},Util:{base64:{_PADCHAR:"=",_ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_VERSION:"1.0",_getbyte64:function(t,e){var r=this._ALPHA.indexOf(t.charAt(e));if(-1===r)throw"Cannot decode base64";return r},_decode:function(t){var e,r,n=0,s=t.length,h=[];if(t=String(t),0===s)return t;if(s%4!==0)throw"Cannot decode base64";for(t.charAt(s-1)===this._PADCHAR&&(n=1,t.charAt(s-2)===this._PADCHAR&&(n=2),s-=4),e=0;s>e;e+=4)r=this._getbyte64(t,e)<<18|this._getbyte64(t,e+1)<<12|this._getbyte64(t,e+2)<<6|this._getbyte64(t,e+3),h.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(n){case 1:r=this._getbyte64(t,e)<<18|this._getbyte64(t,e+1)<<12|this._getbyte64(t,e+2)<<6,h.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=this._getbyte64(t,e)<<18|this._getbyte64(t,e+1)<<12,h.push(String.fromCharCode(r>>16))}return h.join("")},_getbyte:function(t,e){var r=t.charCodeAt(e);if(r>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return r},_encode:function(t){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";t=String(t);var e,r,n=[],s=t.length-t.length%3;if(0===t.length)return t;for(e=0;s>e;e+=3)r=this._getbyte(t,e)<<16|this._getbyte(t,e+1)<<8|this._getbyte(t,e+2),n.push(this._ALPHA.charAt(r>>18)),n.push(this._ALPHA.charAt(r>>12&63)),n.push(this._ALPHA.charAt(r>>6&63)),n.push(this._ALPHA.charAt(63&r));switch(t.length-s){case 1:r=this._getbyte(t,e)<<16,n.push(this._ALPHA.charAt(r>>18)+this._ALPHA.charAt(r>>12&63)+this._PADCHAR+this._PADCHAR);break;case 2:r=this._getbyte(t,e)<<16|this._getbyte(t,e+1)<<8,n.push(this._ALPHA.charAt(r>>18)+this._ALPHA.charAt(r>>12&63)+this._ALPHA.charAt(r>>6&63)+this._PADCHAR)}return n.join("")}},Validate:{CCExpiration:function(t){if(/^[0-9]{2}[\/\/][0-9]{2}$/.test(t)){var e=new Date((new Date).getFullYear(),(new Date).getMonth()+1,1),r=new Date(Number(t.split("/")[1])+2e3,Number(t.split("/")[0]),1);if(r>=e)return!0}return!1},CCNumber:function(t,e){for(var r,n=0,s=1,h=t.length;h--;)r=parseInt(t.charAt(h),10)*s,n+=r-9*(r>9),s^=3;return n%10===0&&n>0?CustomerConnect.Util.Validate.CCType(t,e):!1},CCType:function(t,e){if(!e||!e.CardTypesAllowed||!e.CardTypesAllowed.length)return!0;var r=CustomerConnect.Util.Validate.GetCCType(t),n=CustomerConnect.Util.Validate.GetCCTypeName(r).toUpperCase();return e.CardTypesAllowed.includes(n)},EmailAddress:function(t){return/^[A-Za-z0-9\._%+-]+@[A-Za-z0-9\.-]+\.[A-Za-z]{2,}/.test(t)},GetCCTypeName:function(t){switch(t){case"AMEX":return"American Express";case"MC":return"MasterCard";case"VISA":return"Visa";case"DNRS":return"Diners Club";case"DISC":return"Discover";case"JCB":return"JCB";case"CART":return"Carte Blanche";case"SOLO":return"Solo";case"SWTC":return"Switch";case"MAES":return"Maestro";case"UNKN":return"Unknown";default:return t}},GetCCType:function(t){var e=(t+"").replace(/\s/g,"");return/^(34|37)/.test(e)&&15==e.length?"AMEX":/^(51|52|53|54|55)/.test(e)&&16==e.length?"MC":!/^(4)/.test(e)||13!=e.length&&16!=e.length?/^(300|301|302|303|304|305|36|38)/.test(e)&&14==e.length?"DNRS":/^(6011)/.test(e)&&16==e.length?"DISC":/^(3)/.test(e)&&16==e.length?"JCB":/^(2131|1800)/.test(e)&&15==e.length?"JCB":/^(300|301|302|303|304|305|36|38)/.test(e)&&14==e.length?"CART":!/^(6334|6767)/.test(e)||16!=e.length&&18!=e.length&&19!=e.length?!/^(4903|4905|4911|4936|564182|633110|633|6759)/.test(e)||16!=e.length&&18!=e.length&&19!=e.length?!/^(5020|6)/.test(e)||16!=e.length&&18!=e.length?"UNKN":"MAES":"SWTC":"SOLO":"VISA"},Password:function(t){return/^.{6,30}$/.test(t)&&/[A-Z]/.test(t)&&/[0-9]/.test(t)&&/[a-z]/.test(t)?!0:!1},Phone10:function(t){var e=(t+"").replace(/[^\d]/g,"");return/^[\d]{10}$/.test(e)}}}};