var CustomerConnect={Config:{AccountKey:null,SessionId:null,CustomerName:null,URL:null,Settings:null,ReminderURL:null},Request:{},AR:{},Customer:{},Invoice:{},Route:{},Settings:{},Store:{},User:{},Util:{base64:{_PADCHAR:"=",_ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_VERSION:"1.0",_getbyte64:function(t,e){var n=this._ALPHA.indexOf(t.charAt(e));if(-1===n)throw"Cannot decode base64";return n},_decode:function(t){var e,n,r=0,s=t.length,h=[];if(t=String(t),0===s)return t;if(s%4!==0)throw"Cannot decode base64";for(t.charAt(s-1)===this._PADCHAR&&(r=1,t.charAt(s-2)===this._PADCHAR&&(r=2),s-=4),e=0;s>e;e+=4)n=this._getbyte64(t,e)<<18|this._getbyte64(t,e+1)<<12|this._getbyte64(t,e+2)<<6|this._getbyte64(t,e+3),h.push(String.fromCharCode(n>>16,n>>8&255,255&n));switch(r){case 1:n=this._getbyte64(t,e)<<18|this._getbyte64(t,e+1)<<12|this._getbyte64(t,e+2)<<6,h.push(String.fromCharCode(n>>16,n>>8&255));break;case 2:n=this._getbyte64(t,e)<<18|this._getbyte64(t,e+1)<<12,h.push(String.fromCharCode(n>>16))}return h.join("")},_getbyte:function(t,e){var n=t.charCodeAt(e);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n},_encode:function(t){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";t=String(t);var e,n,r=[],s=t.length-t.length%3;if(0===t.length)return t;for(e=0;s>e;e+=3)n=this._getbyte(t,e)<<16|this._getbyte(t,e+1)<<8|this._getbyte(t,e+2),r.push(this._ALPHA.charAt(n>>18)),r.push(this._ALPHA.charAt(n>>12&63)),r.push(this._ALPHA.charAt(n>>6&63)),r.push(this._ALPHA.charAt(63&n));switch(t.length-s){case 1:n=this._getbyte(t,e)<<16,r.push(this._ALPHA.charAt(n>>18)+this._ALPHA.charAt(n>>12&63)+this._PADCHAR+this._PADCHAR);break;case 2:n=this._getbyte(t,e)<<16|this._getbyte(t,e+1)<<8,r.push(this._ALPHA.charAt(n>>18)+this._ALPHA.charAt(n>>12&63)+this._ALPHA.charAt(n>>6&63)+this._PADCHAR)}return r.join("")}},Validate:{CCExpiration:function(t){if(/^[0-9]{2}[\/\/][0-9]{2}$/.test(t)){var e=new Date((new Date).getFullYear(),(new Date).getMonth()+1,1),n=new Date(Number(t.split("/")[1])+2e3,Number(t.split("/")[0]),1);if(n>=e)return!0}return!1},CCNumber:function(t){for(var e,n=0,r=1,s=t.length;s--;)e=parseInt(t.charAt(s),10)*r,n+=e-9*(e>9),r^=3;return n%10===0&&n>0},CCType:function(t){return"undefined"==typeof CustomerConnect.Config.Settings.CCTypesSupported?!1:-1==CustomerConnect.Config.Settings.CCTypesSupported.search(CustomerConnect.Util.Validate.GetCCType(t))?!1:CustomerConnect.Util.Validate.CCNumber(t)},EmailAddress:function(t){return/^[A-Za-z0-9\._%+-]+@[A-Za-z0-9\.-]+\.[A-Za-z]{2,}/.test(t)},GetCCType:function(t){var e=(t+"").replace(/\s/g,"");return/^(34|37)/.test(e)&&15==e.length?"AMEX":/^(51|52|53|54|55)/.test(e)&&16==e.length?"MC":!/^(4)/.test(e)||13!=e.length&&16!=e.length?/^(300|301|302|303|304|305|36|38)/.test(e)&&14==e.length?"DNRS":/^(6011)/.test(e)&&16==e.length?"DISC":/^(3)/.test(e)&&16==e.length?"JCB":/^(2131|1800)/.test(e)&&15==e.length?"JCB":/^(300|301|302|303|304|305|36|38)/.test(e)&&14==e.length?"CART":!/^(6334|6767)/.test(e)||16!=e.length&&18!=e.length&&19!=e.length?!/^(4903|4905|4911|4936|564182|633110|633|6759)/.test(e)||16!=e.length&&18!=e.length&&19!=e.length?!/^(5020|6)/.test(e)||16!=e.length&&18!=e.length?"UNKN":"MAES":"SWTC":"SOLO":"VISA"},Password:function(t){return/^.{6,30}$/.test(t)&&/[A-Z]/.test(t)&&/[0-9]/.test(t)&&/[a-z]/.test(t)?!0:!1},Phone10:function(t){var e=(t+"").replace(/[^\d]/g,"");return/^[\d]{10}$/.test(e)}}}};